<p>dashboard works!</p>

<!-- src/app/components/dashboard/dashboard.component.html -->
<div class="dashboard">
  <h2>Dashboard</h2>

  <div class="dashboard-line">
    <mat-card class="dashboard-card">
      <mat-card-header>
        <mat-card-title>Average Response Time</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p>{{ (analyticsData$ | async)?.averageResponseTime }} minutes</p>
      </mat-card-content>
    </mat-card>

    <mat-card class="dashboard-card">
      <mat-card-header>
        <mat-card-title>Case Resolution Rate</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p>{{ ((analyticsData$ | async)?.caseResolutionRate || 1) * 100 | number:'1.2-2' }}%</p>
      </mat-card-content>
    </mat-card>

    <mat-card class="dashboard-card">
      <mat-card-header>
        <mat-card-title>Public Satisfaction Score</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p>{{ (analyticsData$ | async)?.publicSatisfactionScore }} / 5</p>
      </mat-card-content>
    </mat-card>
  </div>


    <mat-card class="">
      <mat-card-header>
        <mat-card-title>Cases Resolved Per Month</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <canvas baseChart
                [datasets]="(barChartData$ | async) || undefined"
                [labels]="(barChartLabels$ | async) || undefined"
                [options]="{ responsive: true }"
                [legend]="true"
                [type]="barChartType">
        </canvas>
      </mat-card-content>
    </mat-card>
  <mat-card class="dashboard-card">
    <mat-card-header>
      <mat-card-title>Metrics by Category</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div *ngFor="let categoryData of (categoryMetricsData$ | async)">
        <p>{{ categoryData.category }}:</p>
        <p>Response Time: {{ categoryData.responseTime }}</p>
        <p>Resolution Rate: {{ categoryData.rate }}</p>
      </div>
    </mat-card-content>
  </mat-card>

  <mat-card class="">
    <mat-card-header>
      <mat-card-title>Average Response Time by Category</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <canvas baseChart
              [datasets]="(categoryResponseTimeData$ | async) || undefined"
              [labels]="(categoryChartLabels$ | async) || undefined"
              [options]="{ responsive: true }"
              [legend]="true"
              [type]="'bar'">
      </canvas>
    </mat-card-content>
  </mat-card>

  <mat-card class="">
    <mat-card-header>
      <mat-card-title>Average Response Time by Category</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <canvas baseChart
              [datasets]="(categoryResponseTimeData$ | async) || undefined"
              [labels]="(categoryChartLabels$ | async) || undefined"
              [options]="{ responsive: true }"
              [legend]="true"
              [type]="'pie'">
      </canvas>
    </mat-card-content>
  </mat-card>

  <mat-card class=>
    <mat-card-header>
      <mat-card-title>Resolution Rate by Category</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <canvas baseChart
              [datasets]="(categoryResolutionRateData$ | async) || undefined"
              [labels]="(categoryChartLabels$ | async) || undefined"
              [options]="{ responsive: true }"
              [legend]="true"
              [type]="'pie'">
      </canvas>
    </mat-card-content>
  </mat-card>
</div>
